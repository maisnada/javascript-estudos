<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IMC</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
</head>
<body>
    <div class="container-md">

    <section>    

        <h1 class="mt-4 mb-4 text-center">CÃ¡lculo IMC</h1>

        <form name="cadastro" action="#">
            
            <div class="mb-4">
                <label for="nome" class="form-label">Nome</label>
                <input type="text" class="form-control" name="nome" id="nome" aria-describedby="nome">                
            </div>

            <div class="row mb-4">

                <div class="col">
                    <label for="idade" class="form-label">Altura (M)</label>
                    <input type="text" class="form-control" name="altura" id="altura">
                </div>  

                <div class="col">
                    <label for="idade" class="form-label">Peso (Kg)</label>
                    <input type="text" class="form-control" name="peso" id="peso"> 
                    
                </div>              

            </div>
            
            <button type="submit" class="btn btn-primary">Salvar</button>  
            
        </form>

    </section>

    <section style="margin-top: 30px;">  

        <table class="table table-striped" name="tabela" id="tabela">
        <thead>
            <tr>
            <th scope="col">#</th>
            <th scope="col">Nome</th>
            <th scope="col">Idade</th>
            <th scope="col">IMC</th>
            </tr>
        </thead>
        <tbody>
                    
        </tbody>
        </table>

    </section>     

    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script>

    <script>

        function calculaImc(peso, altura){
           
            return (peso / Math.pow(altura,2)).toFixed(2);
        }

        function handleForm(event){

            event.preventDefault();

            let nome = form.nome.value;
            let altura = parseFloat(form.altura.value.replace(',','.'));
            let peso = parseFloat(form.peso.value.replace(',','.'));

            let imc = calculaImc(peso,altura);           

            let linha = document.createElement('tr');

            let colunaId = document.createElement('th');
            let colunaNome = document.createElement('td');
            let colunaAltura = document.createElement('td');
            let colunaImc = document.createElement('td');

            colunaId.innerText = count;
            colunaId.setAttribute('scope', 'row');

            colunaNome.innerText = nome;
            colunaAltura.innerText = altura;
            colunaImc.innerText = imc;

            linha.appendChild(colunaId);
            linha.appendChild(colunaNome);
            linha.appendChild(colunaAltura);
            linha.appendChild(colunaImc);            

            tabela.appendChild(linha);

            form.nome.value = '';
            form.altura.value = '';
            form.peso.value = '';

            count++;
        }

        let form = document.querySelector('form');

        let btn = form.querySelector('button');

        let tabela = document.querySelector('table tbody');        

        btn.addEventListener('click', handleForm);

        let count = 1;
        
    </script>

</body>
</html>